™
nC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder		 
.		 
Services		 
.		 
AddControllers		 
(		  
)		  !
;		! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddDbContext 
< 
AppDBContext *
>* +
(+ ,
options, 3
=>4 6
options 
. 
UseSqlServer 
( 
builder  
.  !
Configuration! .
.. /
GetConnectionString/ B
(B C
$strC V
)V W
)W X
)X Y
;Y Z
builder 
. 
Services 
. 
AddControllers 
(  
)  !
.! "
AddJsonOptions" 0
(0 1
options1 8
=>9 ;
{ 
options 
. !
JsonSerializerOptions !
.! "
ReferenceHandler" 2
=3 4
ReferenceHandler5 E
.E F
PreserveF N
;N O
options 
. !
JsonSerializerOptions !
.! "
WriteIndented" /
=0 1
true2 6
;6 7
} 
) 
; 
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app!! 
.!! 
UseHttpsRedirection!! 
(!! 
)!! 
;!! 
app## 
.## 
UseAuthorization## 
(## 
)## 
;## 
app%% 
.%% 
MapControllers%% 
(%% 
)%% 
;%% 
await'' 
app'' 	
.''	 

RunAsync''
 
('' 
)'' 
;'' ∑j
éC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Migrations\20250123134226_InitialCreate.cs
	namespace 	
PruebaComjuntaP2
 
. 

Migrations %
{ 
public		 

partial		 
class		 
InitialCreate		 &
:		' (
	Migration		) 2
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str "
," #
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Nombre 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 G
,G H
	maxLengthI R
:R S
$numT W
,W X
nullableY a
:a b
falsec h
)h i
,i j
Descripcion 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
	maxLengthN W
:W X
$numY \
,\ ]
nullable^ f
:f g
falseh m
)m n
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 4
,4 5
x6 7
=>8 :
x; <
.< =
Id= ?
)? @
;@ A
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id   
=   
table   
.   
Column   %
<  % &
int  & )
>  ) *
(  * +
type  + /
:  / 0
$str  1 6
,  6 7
nullable  8 @
:  @ A
false  B G
)  G H
.!! 

Annotation!! #
(!!# $
$str!!$ 8
,!!8 9
$str!!: @
)!!@ A
,!!A B
Nombre"" 
="" 
table"" "
.""" #
Column""# )
<"") *
string""* 0
>""0 1
(""1 2
type""2 6
:""6 7
$str""8 G
,""G H
	maxLength""I R
:""R S
$num""T W
,""W X
nullable""Y a
:""a b
false""c h
)""h i
,""i j
Apellido## 
=## 
table## $
.##$ %
Column##% +
<##+ ,
string##, 2
>##2 3
(##3 4
type##4 8
:##8 9
$str##: I
,##I J
	maxLength##K T
:##T U
$num##V Y
,##Y Z
nullable##[ c
:##c d
false##e j
)##j k
,##k l
Email$$ 
=$$ 
table$$ !
.$$! "
Column$$" (
<$$( )
string$$) /
>$$/ 0
($$0 1
type$$1 5
:$$5 6
$str$$7 F
,$$F G
nullable$$H P
:$$P Q
false$$R W
)$$W X
,$$X Y
Telefono%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
string%%, 2
>%%2 3
(%%3 4
type%%4 8
:%%8 9
$str%%: H
,%%H I
	maxLength%%J S
:%%S T
$num%%U W
,%%W X
nullable%%Y a
:%%a b
false%%c h
)%%h i
}&& 
,&& 
constraints'' 
:'' 
table'' "
=>''# %
{(( 
table)) 
.)) 

PrimaryKey)) $
())$ %
$str))% 2
,))2 3
x))4 5
=>))6 8
x))9 :
.)): ;
Id)); =
)))= >
;))> ?
}** 
)** 
;** 
migrationBuilder,, 
.,, 
CreateTable,, (
(,,( )
name-- 
:-- 
$str-- !
,--! "
columns.. 
:.. 
table.. 
=>.. !
new.." %
{// 
Id00 
=00 
table00 
.00 
Column00 %
<00% &
int00& )
>00) *
(00* +
type00+ /
:00/ 0
$str001 6
,006 7
nullable008 @
:00@ A
false00B G
)00G H
.11 

Annotation11 #
(11# $
$str11$ 8
,118 9
$str11: @
)11@ A
,11A B
Nombre22 
=22 
table22 "
.22" #
Column22# )
<22) *
string22* 0
>220 1
(221 2
type222 6
:226 7
$str228 G
,22G H
	maxLength22I R
:22R S
$num22T W
,22W X
nullable22Y a
:22a b
false22c h
)22h i
,22i j
Descripcion33 
=33  !
table33" '
.33' (
Column33( .
<33. /
string33/ 5
>335 6
(336 7
type337 ;
:33; <
$str33= L
,33L M
	maxLength33N W
:33W X
$num33Y \
,33\ ]
nullable33^ f
:33f g
false33h m
)33m n
,33n o
Precio44 
=44 
table44 "
.44" #
Column44# )
<44) *
decimal44* 1
>441 2
(442 3
type443 7
:447 8
$str449 H
,44H I
nullable44J R
:44R S
false44T Y
)44Y Z
,44Z [
CantidadStock55 !
=55" #
table55$ )
.55) *
Column55* 0
<550 1
int551 4
>554 5
(555 6
type556 :
:55: ;
$str55< A
,55A B
nullable55C K
:55K L
false55M R
)55R S
,55S T
CategoriaId66 
=66  !
table66" '
.66' (
Column66( .
<66. /
int66/ 2
>662 3
(663 4
type664 8
:668 9
$str66: ?
,66? @
nullable66A I
:66I J
false66K P
)66P Q
}77 
,77 
constraints88 
:88 
table88 "
=>88# %
{99 
table:: 
.:: 

PrimaryKey:: $
(::$ %
$str::% 3
,::3 4
x::5 6
=>::7 9
x::: ;
.::; <
Id::< >
)::> ?
;::? @
table;; 
.;; 

ForeignKey;; $
(;;$ %
name<< 
:<< 
$str<< C
,<<C D
column== 
:== 
x==  !
=>==" $
x==% &
.==& '
CategoriaId==' 2
,==2 3
principalTable>> &
:>>& '
$str>>( 4
,>>4 5
principalColumn?? '
:??' (
$str??) -
,??- .
onDelete@@  
:@@  !
ReferentialAction@@" 3
.@@3 4
Cascade@@4 ;
)@@; <
;@@< =
}AA 
)AA 
;AA 
migrationBuilderCC 
.CC 
CreateTableCC (
(CC( )
nameDD 
:DD 
$strDD 
,DD 
columnsEE 
:EE 
tableEE 
=>EE !
newEE" %
{FF 
IdGG 
=GG 
tableGG 
.GG 
ColumnGG %
<GG% &
intGG& )
>GG) *
(GG* +
typeGG+ /
:GG/ 0
$strGG1 6
,GG6 7
nullableGG8 @
:GG@ A
falseGGB G
)GGG H
.HH 

AnnotationHH #
(HH# $
$strHH$ 8
,HH8 9
$strHH: @
)HH@ A
,HHA B

ProductoIdII 
=II  
tableII! &
.II& '
ColumnII' -
<II- .
intII. 1
>II1 2
(II2 3
typeII3 7
:II7 8
$strII9 >
,II> ?
nullableII@ H
:IIH I
falseIIJ O
)IIO P
,IIP Q
CantidadJJ 
=JJ 
tableJJ $
.JJ$ %
ColumnJJ% +
<JJ+ ,
intJJ, /
>JJ/ 0
(JJ0 1
typeJJ1 5
:JJ5 6
$strJJ7 <
,JJ< =
nullableJJ> F
:JJF G
falseJJH M
)JJM N
,JJN O

FechaVentaKK 
=KK  
tableKK! &
.KK& '
ColumnKK' -
<KK- .
DateTimeKK. 6
>KK6 7
(KK7 8
typeKK8 <
:KK< =
$strKK> I
,KKI J
nullableKKK S
:KKS T
falseKKU Z
)KKZ [
,KK[ \
TotalLL 
=LL 
tableLL !
.LL! "
ColumnLL" (
<LL( )
decimalLL) 0
>LL0 1
(LL1 2
typeLL2 6
:LL6 7
$strLL8 G
,LLG H
nullableLLI Q
:LLQ R
falseLLS X
)LLX Y
,LLY Z
	ClienteIdMM 
=MM 
tableMM  %
.MM% &
ColumnMM& ,
<MM, -
intMM- 0
>MM0 1
(MM1 2
typeMM2 6
:MM6 7
$strMM8 =
,MM= >
nullableMM? G
:MMG H
falseMMI N
)MMN O
}NN 
,NN 
constraintsOO 
:OO 
tableOO "
=>OO# %
{PP 
tableQQ 
.QQ 

PrimaryKeyQQ $
(QQ$ %
$strQQ% 0
,QQ0 1
xQQ2 3
=>QQ4 6
xQQ7 8
.QQ8 9
IdQQ9 ;
)QQ; <
;QQ< =
tableRR 
.RR 

ForeignKeyRR $
(RR$ %
nameSS 
:SS 
$strSS <
,SS< =
columnTT 
:TT 
xTT  !
=>TT" $
xTT% &
.TT& '
	ClienteIdTT' 0
,TT0 1
principalTableUU &
:UU& '
$strUU( 2
,UU2 3
principalColumnVV '
:VV' (
$strVV) -
,VV- .
onDeleteWW  
:WW  !
ReferentialActionWW" 3
.WW3 4
CascadeWW4 ;
)WW; <
;WW< =
tableXX 
.XX 

ForeignKeyXX $
(XX$ %
nameYY 
:YY 
$strYY >
,YY> ?
columnZZ 
:ZZ 
xZZ  !
=>ZZ" $
xZZ% &
.ZZ& '

ProductoIdZZ' 1
,ZZ1 2
principalTable[[ &
:[[& '
$str[[( 3
,[[3 4
principalColumn\\ '
:\\' (
$str\\) -
,\\- .
onDelete]]  
:]]  !
ReferentialAction]]" 3
.]]3 4
Cascade]]4 ;
)]]; <
;]]< =
}^^ 
)^^ 
;^^ 
migrationBuilder`` 
.`` 
CreateIndex`` (
(``( )
nameaa 
:aa 
$straa 0
,aa0 1
tablebb 
:bb 
$strbb "
,bb" #
columncc 
:cc 
$strcc %
)cc% &
;cc& '
migrationBuilderee 
.ee 
CreateIndexee (
(ee( )
nameff 
:ff 
$strff +
,ff+ ,
tablegg 
:gg 
$strgg 
,gg  
columnhh 
:hh 
$strhh #
)hh# $
;hh$ %
migrationBuilderjj 
.jj 
CreateIndexjj (
(jj( )
namekk 
:kk 
$strkk ,
,kk, -
tablell 
:ll 
$strll 
,ll  
columnmm 
:mm 
$strmm $
)mm$ %
;mm% &
}nn 	
	protectedqq 
overrideqq 
voidqq 
Downqq  $
(qq$ %
MigrationBuilderqq% 5
migrationBuilderqq6 F
)qqF G
{rr 	
migrationBuilderss 
.ss 
	DropTabless &
(ss& '
namett 
:tt 
$strtt 
)tt 
;tt  
migrationBuildervv 
.vv 
	DropTablevv &
(vv& '
nameww 
:ww 
$strww  
)ww  !
;ww! "
migrationBuilderyy 
.yy 
	DropTableyy &
(yy& '
namezz 
:zz 
$strzz !
)zz! "
;zz" #
migrationBuilder|| 
.|| 
	DropTable|| &
(||& '
name}} 
:}} 
$str}} "
)}}" #
;}}# $
}~~ 	
} 
}ÄÄ ¶

tC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Dtos\VentaDto.cs
	namespace 	
GestionInventario
 
. 
Dtos  
{ 
public 

class 
VentaDto 
{ 
public 
int 
? 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
int 
? 

ProductoId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
Cantidad 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 

FechaVenta "
{# $
get% (
;( )
set* -
;- .
}/ 0
public		 
decimal		 
?		 
Total		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 
int

 
?

 
	ClienteId

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
} 
} ¡

wC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Dtos\ProductoDto.cs
	namespace 	
GestionInventario
 
. 
Dtos  
{ 
public 

class 
ProductoDto 
{ 
public 
int 
? 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
? 
Nombre 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
? 
Descripcion "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
decimal 
? 
Precio 
{  
get! $
;$ %
set& )
;) *
}+ ,
public		 
int		 
?		 
CantidadStock		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 
int

 
?

 
CategoriaId

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
} 
} ç	
vC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Dtos\ClienteDto.cs
	namespace 	
GestionInventario
 
. 
Dtos  
{ 
public 

class 

ClienteDto 
{ 
public 
int 
? 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
? 
Nombre 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
? 
Apellido 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Email 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
string		 
?		 
Telefono		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
}

 
} ¡
xC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Dtos\CategoriaDto.cs
	namespace 	
GestionInventario
 
. 
Dtos  
{ 
public 

class 
CategoriaDto 
{ 
public 
int 
? 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
? 
Nombre 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
? 
Descripcion "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
}		 ∏\
ÇC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Controllers\VentaController.cs
	namespace 	
GestionInventario
 
. 
Controllers '
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
VentasController !
:" #
ControllerBase$ 2
{ 
private 
readonly 
AppDBContext %
_context& .
;. /
public 
VentasController 
(  
AppDBContext  ,
context- 4
)4 5
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
VentaDto3 ;
>; <
>< =
>= >
	GetVentas? H
(H I
)I J
{ 	
return 
await 
_context !
.! "
Ventas" (
. 
Select 
( 
v 
=> 
new  
VentaDto! )
{ 
Id 
= 
v 
. 
Id 
, 

ProductoId 
=  
v! "
." #

ProductoId# -
,- .
Cantidad 
= 
v  
.  !
Cantidad! )
,) *

FechaVenta 
=  
v! "
." #

FechaVenta# -
,- .
Total 
= 
v 
. 
Total #
,# $
	ClienteId   
=   
v    !
.  ! "
	ClienteId  " +
}!! 
)!! 
."" 
ToListAsync"" 
("" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
(%% 
$str%% 
)%% 
]%% 
public&& 
async&& 
Task&& 
<&& 
ActionResult&& &
<&&& '
VentaDto&&' /
>&&/ 0
>&&0 1
GetVenta&&2 :
(&&: ;
int&&; >
id&&? A
)&&A B
{'' 	
var(( 
venta(( 
=(( 
await(( 
_context(( &
.((& '
Ventas((' -
.)) 
Where)) 
()) 
v)) 
=>)) 
v)) 
.)) 
Id))  
==))! #
id))$ &
)))& '
.** 
Select** 
(** 
v** 
=>** 
new**  
VentaDto**! )
{++ 
Id,, 
=,, 
v,, 
.,, 
Id,, 
,,, 

ProductoId-- 
=--  
v--! "
.--" #

ProductoId--# -
,--- .
Cantidad.. 
=.. 
v..  
...  !
Cantidad..! )
,..) *

FechaVenta// 
=//  
v//! "
.//" #

FechaVenta//# -
,//- .
Total00 
=00 
v00 
.00 
Total00 #
,00# $
	ClienteId11 
=11 
v11  !
.11! "
	ClienteId11" +
}22 
)22 
.33 
FirstOrDefaultAsync33 $
(33$ %
)33% &
;33& '
if55 
(55 
venta55 
==55 
null55 
)55 
return55 %
NotFound55& .
(55. /
)55/ 0
;550 1
return77 
venta77 
;77 
}88 	
[:: 	
HttpPost::	 
]:: 
public;; 
async;; 
Task;; 
<;; 
ActionResult;; &
<;;& '
VentaDto;;' /
>;;/ 0
>;;0 1
	PostVenta;;2 ;
(;;; <
[;;< =
FromBody;;= E
];;E F
VentaDto;;G O
ventaDto;;P X
);;X Y
{<< 	
if== 
(== 
!== 

ModelState== 
.== 
IsValid== #
)==# $
{>> 
return?? 

BadRequest?? !
(??! "

ModelState??" ,
)??, -
;??- .
}@@ 
varBB 
currentDateBB 
=BB 
DateTimeBB &
.BB& '
TodayBB' ,
;BB, -
ifCC 
(CC 
ventaDtoCC 
.CC 

FechaVentaCC #
.CC# $
DateCC$ (
!=CC) +
currentDateCC, 7
)CC7 8
{DD 
returnEE 

BadRequestEE !
(EE! "
$strEE" Z
)EEZ [
;EE[ \
}FF 
varHH 
ventaHH 
=HH 
newHH 
VentaHH !
{II 

ProductoIdJJ 
=JJ 
(JJ 
intJJ !
)JJ! "
ventaDtoJJ" *
.JJ* +

ProductoIdJJ+ 5
,JJ5 6
CantidadKK 
=KK 
(KK 
intKK 
)KK  
ventaDtoKK  (
.KK( )
CantidadKK) 1
,KK1 2

FechaVentaLL 
=LL 
(LL 
DateTimeLL &
)LL& '
ventaDtoLL' /
.LL/ 0

FechaVentaLL0 :
,LL: ;
TotalMM 
=MM 
(MM 
decimalMM  
)MM  !
ventaDtoMM! )
.MM) *
TotalMM* /
,MM/ 0
	ClienteIdNN 
=NN 
(NN 
intNN  
)NN  !
ventaDtoNN! )
.NN) *
	ClienteIdNN* 3
}OO 
;OO 
_contextQQ 
.QQ 
VentasQQ 
.QQ 
AddQQ 
(QQ  
ventaQQ  %
)QQ% &
;QQ& '
awaitRR 
_contextRR 
.RR 
SaveChangesAsyncRR +
(RR+ ,
)RR, -
;RR- .
ventaDtoTT 
.TT 
IdTT 
=TT 
ventaTT 
.TT  
IdTT  "
;TT" #
returnVV 
CreatedAtActionVV "
(VV" #
nameofVV# )
(VV) *
GetVentaVV* 2
)VV2 3
,VV3 4
newVV5 8
{VV9 :
idVV; =
=VV> ?
ventaDtoVV@ H
.VVH I
IdVVI K
}VVL M
,VVM N
ventaDtoVVO W
)VVW X
;VVX Y
}WW 	
[YY 	
HttpPutYY	 
(YY 
$strYY 
)YY 
]YY 
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
IActionResultZZ '
>ZZ' (
PutVentaZZ) 1
(ZZ1 2
intZZ2 5
idZZ6 8
,ZZ8 9
[ZZ: ;
FromBodyZZ; C
]ZZC D
VentaDtoZZE M
ventaDtoZZN V
)ZZV W
{[[ 	
if\\ 
(\\ 
id\\ 
!=\\ 
ventaDto\\ 
.\\ 
Id\\ !
)\\! "
{]] 
return^^ 

BadRequest^^ !
(^^! "
$str^^" e
)^^e f
;^^f g
}__ 
ifaa 
(aa 
!aa 

ModelStateaa 
.aa 
IsValidaa #
)aa# $
{bb 
returncc 

BadRequestcc !
(cc! "

ModelStatecc" ,
)cc, -
;cc- .
}dd 
varff 
ventaff 
=ff 
awaitff 
_contextff &
.ff& '
Ventasff' -
.ff- .
	FindAsyncff. 7
(ff7 8
idff8 :
)ff: ;
;ff; <
ifgg 
(gg 
ventagg 
==gg 
nullgg 
)gg 
{hh 
returnii 
NotFoundii 
(ii  
)ii  !
;ii! "
}jj 
ventall 
.ll 

ProductoIdll 
=ll 
(ll  
intll  #
)ll# $
ventaDtoll$ ,
.ll, -

ProductoIdll- 7
;ll7 8
ventamm 
.mm 
Cantidadmm 
=mm 
(mm 
intmm !
)mm! "
ventaDtomm" *
.mm* +
Cantidadmm+ 3
;mm3 4
ventann 
.nn 

FechaVentann 
=nn 
(nn  
DateTimenn  (
)nn( )
ventaDtonn) 1
.nn1 2

FechaVentann2 <
;nn< =
ventaoo 
.oo 
Totaloo 
=oo 
(oo 
decimaloo "
)oo" #
ventaDtooo# +
.oo+ ,
Totaloo, 1
;oo1 2
ventapp 
.pp 
	ClienteIdpp 
=pp 
(pp 
intpp "
)pp" #
ventaDtopp# +
.pp+ ,
	ClienteIdpp, 5
;pp5 6
_contextrr 
.rr 
Entryrr 
(rr 
ventarr  
)rr  !
.rr! "
Staterr" '
=rr( )
EntityStaterr* 5
.rr5 6
Modifiedrr6 >
;rr> ?
trytt 
{uu 
awaitvv 
_contextvv 
.vv 
SaveChangesAsyncvv /
(vv/ 0
)vv0 1
;vv1 2
}ww 
catchxx 
(xx (
DbUpdateConcurrencyExceptionxx /
)xx/ 0
{yy 
ifzz 
(zz 
!zz 
VentaExistszz  
(zz  !
idzz! #
)zz# $
)zz$ %
{{{ 
return|| 
NotFound|| #
(||# $
)||$ %
;||% &
}}} 
else~~ 
{ 
throw
ÄÄ 
;
ÄÄ 
}
ÅÅ 
}
ÇÇ 
return
ÑÑ 
	NoContent
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
private
áá 
bool
áá 
VentaExists
áá  
(
áá  !
int
áá! $
id
áá% '
)
áá' (
{
àà 	
return
ââ 
_context
ââ 
.
ââ 
Ventas
ââ "
.
ââ" #
Any
ââ# &
(
ââ& '
e
ââ' (
=>
ââ) +
e
ââ, -
.
ââ- .
Id
ââ. 0
==
ââ1 3
id
ââ4 6
)
ââ6 7
;
ââ7 8
}
ää 	
[
åå 	

HttpDelete
åå	 
(
åå 
$str
åå 
)
åå 
]
åå 
public
çç 
async
çç 
Task
çç 
<
çç 
IActionResult
çç '
>
çç' (
DeleteVenta
çç) 4
(
çç4 5
int
çç5 8
id
çç9 ;
)
çç; <
{
éé 	
var
èè 
venta
èè 
=
èè 
await
èè 
_context
èè &
.
èè& '
Ventas
èè' -
.
èè- .
	FindAsync
èè. 7
(
èè7 8
id
èè8 :
)
èè: ;
;
èè; <
if
êê 
(
êê 
venta
êê 
==
êê 
null
êê 
)
êê 
return
êê %
NotFound
êê& .
(
êê. /
)
êê/ 0
;
êê0 1
_context
ëë 
.
ëë 
Ventas
ëë 
.
ëë 
Remove
ëë "
(
ëë" #
venta
ëë# (
)
ëë( )
;
ëë) *
await
íí 
_context
íí 
.
íí 
SaveChangesAsync
íí +
(
íí+ ,
)
íí, -
;
íí- .
return
ìì 
	NoContent
ìì 
(
ìì 
)
ìì 
;
ìì 
}
îî 	
}
ïï 
}ññ ªÇ
ÖC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Controllers\ProductoController.cs
	namespace 	
GestionInventario
 
. 
Controllers '
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
ProductosController $
:% &
ControllerBase' 5
{ 
private 
readonly 
AppDBContext %
_context& .
;. /
public 
ProductosController "
(" #
AppDBContext# /
context0 7
)7 8
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
ProductoDto3 >
>> ?
>? @
>@ A
GetProductosB N
(N O
)O P
{ 	
return 
await 
_context !
.! "
	Productos" +
. 
Select 
( 
p 
=> 
new  
ProductoDto! ,
{ 
Id 
= 
p 
. 
Id 
, 
Nombre 
= 
p 
. 
Nombre %
,% &
Descripcion 
=  !
p" #
.# $
Descripcion$ /
,/ 0
Precio 
= 
p 
. 
Precio %
,% &
CantidadStock !
=" #
p$ %
.% &
CantidadStock& 3
,3 4
CategoriaId   
=    !
p  " #
.  # $
CategoriaId  $ /
}!! 
)!! 
."" 
ToListAsync"" 
("" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
(%% 
$str%% 
)%% 
]%% 
public&& 
async&& 
Task&& 
<&& 
ActionResult&& &
<&&& '
ProductoDto&&' 2
>&&2 3
>&&3 4
GetProducto&&5 @
(&&@ A
int&&A D
id&&E G
)&&G H
{'' 	
var(( 
producto(( 
=(( 
await((  
_context((! )
.(() *
	Productos((* 3
.)) 
Where)) 
()) 
p)) 
=>)) 
p)) 
.)) 
Id))  
==))! #
id))$ &
)))& '
.** 
Select** 
(** 
p** 
=>** 
new**  
ProductoDto**! ,
{++ 
Id,, 
=,, 
p,, 
.,, 
Id,, 
,,, 
Nombre-- 
=-- 
p-- 
.-- 
Nombre-- %
,--% &
Descripcion.. 
=..  !
p.." #
...# $
Descripcion..$ /
,../ 0
Precio// 
=// 
p// 
.// 
Precio// %
,//% &
CantidadStock00 !
=00" #
p00$ %
.00% &
CantidadStock00& 3
,003 4
CategoriaId11 
=11  !
p11" #
.11# $
CategoriaId11$ /
}22 
)22 
.33 
FirstOrDefaultAsync33 $
(33$ %
)33% &
;33& '
if55 
(55 
producto55 
==55 
null55  
)55  !
return55" (
NotFound55) 1
(551 2
)552 3
;553 4
return77 
producto77 
;77 
}88 	
[:: 	
HttpPost::	 
]:: 
public;; 
async;; 
Task;; 
<;; 
ActionResult;; &
<;;& '
ProductoDto;;' 2
>;;2 3
>;;3 4
PostProducto;;5 A
(;;A B
[;;B C
FromBody;;C K
];;K L
ProductoDto;;M X
productoDto;;Y d
);;d e
{<< 	
if== 
(== 
!== 

ModelState== 
.== 
IsValid== #
)==# $
{>> 
return?? 

BadRequest?? !
(??! "

ModelState??" ,
)??, -
;??- .
}@@ 
ifBB 
(BB 
productoDtoBB 
==BB 
nullBB #
||BB$ &
stringBB' -
.BB- .
IsNullOrEmptyBB. ;
(BB; <
productoDtoBB< G
.BBG H
NombreBBH N
)BBN O
||BBP R
stringBBS Y
.BBY Z
IsNullOrEmptyBBZ g
(BBg h
productoDtoBBh s
.BBs t
DescripcionBBt 
)	BB Ä
)
BBÄ Å
{CC 
returnDD 

BadRequestDD !
(DD! "
$strDD" V
)DDV W
;DDW X
}EE 
ifGG 
(GG 
productoDtoGG 
.GG 
PrecioGG "
<=GG# %
$numGG& '
)GG' (
{HH 
returnII 

BadRequestII !
(II! "
$strII" N
)IIN O
;IIO P
}JJ 
ifLL 
(LL 
productoDtoLL 
.LL 
CantidadStockLL )
<LL* +
$numLL, -
)LL- .
{MM 
returnNN 

BadRequestNN !
(NN! "
$strNN" a
)NNa b
;NNb c
}OO 
varQQ 
existingProductoQQ  
=QQ! "
awaitQQ# (
_contextQQ) 1
.QQ1 2
	ProductosQQ2 ;
.RR 
FirstOrDefaultAsyncRR $
(RR$ %
pRR% &
=>RR' )
pRR* +
.RR+ ,
NombreRR, 2
==RR3 5
productoDtoRR6 A
.RRA B
NombreRRB H
&&RRI K
pRRL M
.RRM N
DescripcionRRN Y
==RRZ \
productoDtoRR] h
.RRh i
DescripcionRRi t
&&RRu w
pRRx y
.RRy z
CategoriaId	RRz Ö
==
RRÜ à
productoDto
RRâ î
.
RRî ï
CategoriaId
RRï †
)
RR† °
;
RR° ¢
ifTT 
(TT 
existingProductoTT  
!=TT! #
nullTT$ (
)TT( )
{UU 
returnVV 
ConflictVV 
(VV  
$strVV  `
)VV` a
;VVa b
}WW 
varYY 
productoYY 
=YY 
newYY 
ProductoYY '
{ZZ 
Nombre[[ 
=[[ 
productoDto[[ $
.[[$ %
Nombre[[% +
,[[+ ,
Descripcion\\ 
=\\ 
productoDto\\ )
.\\) *
Descripcion\\* 5
,\\5 6
Precio]] 
=]] 
(]] 
decimal]] !
)]]! "
productoDto]]" -
.]]- .
Precio]]. 4
,]]4 5
CantidadStock^^ 
=^^ 
(^^  !
int^^! $
)^^$ %
productoDto^^% 0
.^^0 1
CantidadStock^^1 >
,^^> ?
CategoriaId__ 
=__ 
(__ 
int__ "
)__" #
productoDto__# .
.__. /
CategoriaId__/ :
}`` 
;`` 
_contextbb 
.bb 
	Productosbb 
.bb 
Addbb "
(bb" #
productobb# +
)bb+ ,
;bb, -
awaitcc 
_contextcc 
.cc 
SaveChangesAsynccc +
(cc+ ,
)cc, -
;cc- .
productoDtoee 
.ee 
Idee 
=ee 
productoee %
.ee% &
Idee& (
;ee( )
returngg 
CreatedAtActiongg "
(gg" #
nameofgg# )
(gg) *
GetProductogg* 5
)gg5 6
,gg6 7
newgg8 ;
{gg< =
idgg> @
=ggA B
productoDtoggC N
.ggN O
IdggO Q
}ggR S
,ggS T
productoDtoggU `
)gg` a
;gga b
}hh 	
[jj 	
HttpPutjj	 
(jj 
$strjj 
)jj 
]jj 
publickk 
asynckk 
Taskkk 
<kk 
IActionResultkk '
>kk' (
PutProductokk) 4
(kk4 5
intkk5 8
idkk9 ;
,kk; <
[kk= >
FromBodykk> F
]kkF G
ProductoDtokkH S
productoDtokkT _
)kk_ `
{ll 	
ifmm 
(mm 
idmm 
!=mm 
productoDtomm !
.mm! "
Idmm" $
)mm$ %
{nn 
returnoo 

BadRequestoo !
(oo! "
$stroo" e
)ooe f
;oof g
}pp 
ifrr 
(rr 
!rr 

ModelStaterr 
.rr 
IsValidrr #
)rr# $
{ss 
returntt 

BadRequesttt !
(tt! "

ModelStatett" ,
)tt, -
;tt- .
}uu 
ifww 
(ww 
productoDtoww 
==ww 
nullww #
||ww$ &
stringww' -
.ww- .
IsNullOrEmptyww. ;
(ww; <
productoDtoww< G
.wwG H
NombrewwH N
)wwN O
||wwP R
stringwwS Y
.wwY Z
IsNullOrEmptywwZ g
(wwg h
productoDtowwh s
.wws t
Descripcionwwt 
)	ww Ä
)
wwÄ Å
{xx 
returnyy 

BadRequestyy !
(yy! "
$stryy" V
)yyV W
;yyW X
}zz 
if|| 
(|| 
productoDto|| 
.|| 
Precio|| "
<=||# %
$num||& '
)||' (
{}} 
return~~ 

BadRequest~~ !
(~~! "
$str~~" N
)~~N O
;~~O P
} 
if
ÅÅ 
(
ÅÅ 
productoDto
ÅÅ 
.
ÅÅ 
CantidadStock
ÅÅ )
<
ÅÅ* +
$num
ÅÅ, -
)
ÅÅ- .
{
ÇÇ 
return
ÉÉ 

BadRequest
ÉÉ !
(
ÉÉ! "
$str
ÉÉ" a
)
ÉÉa b
;
ÉÉb c
}
ÑÑ 
var
ÜÜ 
existingProducto
ÜÜ  
=
ÜÜ! "
await
ÜÜ# (
_context
ÜÜ) 1
.
ÜÜ1 2
	Productos
ÜÜ2 ;
.
áá !
FirstOrDefaultAsync
áá $
(
áá$ %
p
áá% &
=>
áá' )
p
áá* +
.
áá+ ,
Id
áá, .
!=
áá/ 1
id
áá2 4
&&
áá5 7
p
áá8 9
.
áá9 :
Nombre
áá: @
==
ááA C
productoDto
ááD O
.
ááO P
Nombre
ááP V
&&
ááW Y
p
ááZ [
.
áá[ \
Descripcion
áá\ g
==
ááh j
productoDto
áák v
.
ááv w
Descripcionááw Ç
&&ááÉ Ö
pááÜ á
.ááá à
CategoriaIdááà ì
==ááî ñ
productoDtoááó ¢
.áá¢ £
CategoriaIdáá£ Æ
)ááÆ Ø
;ááØ ∞
if
ââ 
(
ââ 
existingProducto
ââ  
!=
ââ! #
null
ââ$ (
)
ââ( )
{
ää 
return
ãã 
Conflict
ãã 
(
ãã  
$str
ãã  `
)
ãã` a
;
ããa b
}
åå 
var
éé 
producto
éé 
=
éé 
await
éé  
_context
éé! )
.
éé) *
	Productos
éé* 3
.
éé3 4
	FindAsync
éé4 =
(
éé= >
id
éé> @
)
éé@ A
;
ééA B
if
èè 
(
èè 
producto
èè 
==
èè 
null
èè  
)
èè  !
{
êê 
return
ëë 
NotFound
ëë 
(
ëë  
)
ëë  !
;
ëë! "
}
íí 
producto
îî 
.
îî 
Nombre
îî 
=
îî 
productoDto
îî )
.
îî) *
Nombre
îî* 0
;
îî0 1
producto
ïï 
.
ïï 
Descripcion
ïï  
=
ïï! "
productoDto
ïï# .
.
ïï. /
Descripcion
ïï/ :
;
ïï: ;
producto
ññ 
.
ññ 
Precio
ññ 
=
ññ 
(
ññ 
decimal
ññ &
)
ññ& '
productoDto
ññ' 2
.
ññ2 3
Precio
ññ3 9
;
ññ9 :
producto
óó 
.
óó 
CantidadStock
óó "
=
óó# $
(
óó% &
int
óó& )
)
óó) *
productoDto
óó* 5
.
óó5 6
CantidadStock
óó6 C
;
óóC D
producto
òò 
.
òò 
CategoriaId
òò  
=
òò! "
(
òò# $
int
òò$ '
)
òò' (
productoDto
òò( 3
.
òò3 4
CategoriaId
òò4 ?
;
òò? @
_context
öö 
.
öö 
Entry
öö 
(
öö 
producto
öö #
)
öö# $
.
öö$ %
State
öö% *
=
öö+ ,
EntityState
öö- 8
.
öö8 9
Modified
öö9 A
;
ööA B
try
úú 
{
ùù 
await
ûû 
_context
ûû 
.
ûû 
SaveChangesAsync
ûû /
(
ûû/ 0
)
ûû0 1
;
ûû1 2
}
üü 
catch
†† 
(
†† *
DbUpdateConcurrencyException
†† /
)
††/ 0
{
°° 
if
¢¢ 
(
¢¢ 
!
¢¢ 
ProductoExists
¢¢ #
(
¢¢# $
id
¢¢$ &
)
¢¢& '
)
¢¢' (
{
££ 
return
§§ 
NotFound
§§ #
(
§§# $
)
§§$ %
;
§§% &
}
•• 
else
¶¶ 
{
ßß 
throw
®® 
;
®® 
}
©© 
}
™™ 
return
¨¨ 
	NoContent
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨ 
}
≠≠ 	
[
ØØ 	

HttpDelete
ØØ	 
(
ØØ 
$str
ØØ 
)
ØØ 
]
ØØ 
public
∞∞ 
async
∞∞ 
Task
∞∞ 
<
∞∞ 
IActionResult
∞∞ '
>
∞∞' (
DeleteProducto
∞∞) 7
(
∞∞7 8
int
∞∞8 ;
id
∞∞< >
)
∞∞> ?
{
±± 	
var
≤≤ 
producto
≤≤ 
=
≤≤ 
await
≤≤  
_context
≤≤! )
.
≤≤) *
	Productos
≤≤* 3
.
≤≤3 4
	FindAsync
≤≤4 =
(
≤≤= >
id
≤≤> @
)
≤≤@ A
;
≤≤A B
if
≥≥ 
(
≥≥ 
producto
≥≥ 
==
≥≥ 
null
≥≥  
)
≥≥  !
return
≥≥" (
NotFound
≥≥) 1
(
≥≥1 2
)
≥≥2 3
;
≥≥3 4
var
µµ 
ventasAsociadas
µµ 
=
µµ  !
await
µµ" '
_context
µµ( 0
.
µµ0 1
Ventas
µµ1 7
.
µµ7 8
AnyAsync
µµ8 @
(
µµ@ A
v
µµA B
=>
µµC E
v
µµF G
.
µµG H

ProductoId
µµH R
==
µµS U
id
µµV X
)
µµX Y
;
µµY Z
if
∂∂ 
(
∂∂ 
ventasAsociadas
∂∂ 
)
∂∂  
{
∑∑ 
return
∏∏ 
Conflict
∏∏ 
(
∏∏  
$str
∏∏  d
)
∏∏d e
;
∏∏e f
}
ππ 
_context
ªª 
.
ªª 
	Productos
ªª 
.
ªª 
Remove
ªª %
(
ªª% &
producto
ªª& .
)
ªª. /
;
ªª/ 0
await
ºº 
_context
ºº 
.
ºº 
SaveChangesAsync
ºº +
(
ºº+ ,
)
ºº, -
;
ºº- .
return
ΩΩ 
	NoContent
ΩΩ 
(
ΩΩ 
)
ΩΩ 
;
ΩΩ 
}
ææ 	
private
¿¿ 
bool
¿¿ 
ProductoExists
¿¿ #
(
¿¿# $
int
¿¿$ '
id
¿¿( *
)
¿¿* +
{
¡¡ 	
return
¬¬ 
_context
¬¬ 
.
¬¬ 
	Productos
¬¬ %
.
¬¬% &
Any
¬¬& )
(
¬¬) *
e
¬¬* +
=>
¬¬, .
e
¬¬/ 0
.
¬¬0 1
Id
¬¬1 3
==
¬¬4 6
id
¬¬7 9
)
¬¬9 :
;
¬¬: ;
}
√√ 	
}
ƒƒ 
}≈≈ …[
ÑC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Controllers\ClienteController.cs
	namespace 	
GestionInventario
 
. 
Controllers '
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
ClientesController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AppDBContext %
_context& .
;. /
public 
ClientesController !
(! "
AppDBContext" .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3

ClienteDto3 =
>= >
>> ?
>? @
GetClientesA L
(L M
)M N
{ 	
return 
await 
_context !
.! "
Clientes" *
. 
Select 
( 
c 
=> 
new  

ClienteDto! +
{ 
Id 
= 
c 
. 
Id 
, 
Nombre 
= 
c 
. 
Nombre %
,% &
Apellido 
= 
c  
.  !
Apellido! )
,) *
Email 
= 
c 
. 
Email #
,# $
Telefono 
= 
c  
.  !
Telefono! )
}   
)   
.!! 
ToListAsync!! 
(!! 
)!! 
;!! 
}"" 	
[$$ 	
HttpGet$$	 
($$ 
$str$$ 
)$$ 
]$$ 
public%% 
async%% 
Task%% 
<%% 
ActionResult%% &
<%%& '

ClienteDto%%' 1
>%%1 2
>%%2 3

GetCliente%%4 >
(%%> ?
int%%? B
id%%C E
)%%E F
{&& 	
var'' 
cliente'' 
='' 
await'' 
_context''  (
.''( )
Clientes'') 1
.(( 
Where(( 
((( 
c(( 
=>(( 
c(( 
.(( 
Id((  
==((! #
id(($ &
)((& '
.)) 
Select)) 
()) 
c)) 
=>)) 
new))  

ClienteDto))! +
{** 
Id++ 
=++ 
c++ 
.++ 
Id++ 
,++ 
Nombre,, 
=,, 
c,, 
.,, 
Nombre,, %
,,,% &
Apellido-- 
=-- 
c--  
.--  !
Apellido--! )
,--) *
Email.. 
=.. 
c.. 
... 
Email.. #
,..# $
Telefono// 
=// 
c//  
.//  !
Telefono//! )
}00 
)00 
.11 
FirstOrDefaultAsync11 $
(11$ %
)11% &
;11& '
if33 
(33 
cliente33 
==33 
null33 
)33  
return33! '
NotFound33( 0
(330 1
)331 2
;332 3
return55 
cliente55 
;55 
}66 	
[88 	
HttpPost88	 
]88 
public99 
async99 
Task99 
<99 
ActionResult99 &
<99& '

ClienteDto99' 1
>991 2
>992 3
PostCliente994 ?
(99? @
[99@ A
FromBody99A I
]99I J

ClienteDto99K U

clienteDto99V `
)99` a
{:: 	
if;; 
(;; 
!;; 

ModelState;; 
.;; 
IsValid;; #
);;# $
{<< 
return== 

BadRequest== !
(==! "

ModelState==" ,
)==, -
;==- .
}>> 
var@@ 
existingCliente@@ 
=@@  !
await@@" '
_context@@( 0
.@@0 1
Clientes@@1 9
.AA 
FirstOrDefaultAsyncAA $
(AA$ %
cAA% &
=>AA' )
cAA* +
.AA+ ,
EmailAA, 1
==AA2 4

clienteDtoAA5 ?
.AA? @
EmailAA@ E
)AAE F
;AAF G
ifCC 
(CC 
existingClienteCC 
!=CC  "
nullCC# '
)CC' (
{DD 
returnEE 
ConflictEE 
(EE  
$strEE  R
)EER S
;EES T
}FF 
varHH 
clienteHH 
=HH 
newHH 
ClienteHH %
{II 
NombreJJ 
=JJ 

clienteDtoJJ #
.JJ# $
NombreJJ$ *
,JJ* +
ApellidoKK 
=KK 

clienteDtoKK %
.KK% &
ApellidoKK& .
,KK. /
EmailLL 
=LL 

clienteDtoLL "
.LL" #
EmailLL# (
,LL( )
TelefonoMM 
=MM 

clienteDtoMM %
.MM% &
TelefonoMM& .
}NN 
;NN 
_contextPP 
.PP 
ClientesPP 
.PP 
AddPP !
(PP! "
clientePP" )
)PP) *
;PP* +
awaitQQ 
_contextQQ 
.QQ 
SaveChangesAsyncQQ +
(QQ+ ,
)QQ, -
;QQ- .

clienteDtoSS 
.SS 
IdSS 
=SS 
clienteSS #
.SS# $
IdSS$ &
;SS& '
returnUU 
CreatedAtActionUU "
(UU" #
nameofUU# )
(UU) *

GetClienteUU* 4
)UU4 5
,UU5 6
newUU7 :
{UU; <
idUU= ?
=UU@ A

clienteDtoUUB L
.UUL M
IdUUM O
}UUP Q
,UUQ R

clienteDtoUUS ]
)UU] ^
;UU^ _
}VV 	
[XX 	
HttpPutXX	 
(XX 
$strXX 
)XX 
]XX 
publicYY 
asyncYY 
TaskYY 
<YY 
IActionResultYY '
>YY' (

PutClienteYY) 3
(YY3 4
intYY4 7
idYY8 :
,YY: ;
[YY< =
FromBodyYY= E
]YYE F

ClienteDtoYYG Q

clienteDtoYYR \
)YY\ ]
{ZZ 	
if[[ 
([[ 
id[[ 
!=[[ 

clienteDto[[  
.[[  !
Id[[! #
)[[# $
{\\ 
return]] 

BadRequest]] !
(]]! "
$str]]" e
)]]e f
;]]f g
}^^ 
if`` 
(`` 
!`` 

ModelState`` 
.`` 
IsValid`` #
)``# $
{aa 
returnbb 

BadRequestbb !
(bb! "

ModelStatebb" ,
)bb, -
;bb- .
}cc 
varee 
clienteee 
=ee 
awaitee 
_contextee  (
.ee( )
Clientesee) 1
.ee1 2
	FindAsyncee2 ;
(ee; <
idee< >
)ee> ?
;ee? @
ifff 
(ff 
clienteff 
==ff 
nullff 
)ff  
{gg 
returnhh 
NotFoundhh 
(hh  
)hh  !
;hh! "
}ii 
clientekk 
.kk 
Nombrekk 
=kk 

clienteDtokk '
.kk' (
Nombrekk( .
;kk. /
clientell 
.ll 
Apellidoll 
=ll 

clienteDtoll )
.ll) *
Apellidoll* 2
;ll2 3
clientemm 
.mm 
Emailmm 
=mm 

clienteDtomm &
.mm& '
Emailmm' ,
;mm, -
clientenn 
.nn 
Telefononn 
=nn 

clienteDtonn )
.nn) *
Telefononn* 2
;nn2 3
_contextpp 
.pp 
Entrypp 
(pp 
clientepp "
)pp" #
.pp# $
Statepp$ )
=pp* +
EntityStatepp, 7
.pp7 8
Modifiedpp8 @
;pp@ A
tryrr 
{ss 
awaittt 
_contexttt 
.tt 
SaveChangesAsynctt /
(tt/ 0
)tt0 1
;tt1 2
}uu 
catchvv 
(vv (
DbUpdateConcurrencyExceptionvv /
)vv/ 0
{ww 
ifxx 
(xx 
!xx 
ClienteExistsxx "
(xx" #
idxx# %
)xx% &
)xx& '
{yy 
returnzz 
NotFoundzz #
(zz# $
)zz$ %
;zz% &
}{{ 
else|| 
{}} 
throw~~ 
;~~ 
} 
}
ÄÄ 
return
ÇÇ 
	NoContent
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
[
ÖÖ 	

HttpDelete
ÖÖ	 
(
ÖÖ 
$str
ÖÖ 
)
ÖÖ 
]
ÖÖ 
public
ÜÜ 
async
ÜÜ 
Task
ÜÜ 
<
ÜÜ 
IActionResult
ÜÜ '
>
ÜÜ' (
DeleteCliente
ÜÜ) 6
(
ÜÜ6 7
int
ÜÜ7 :
id
ÜÜ; =
)
ÜÜ= >
{
áá 	
var
àà 
cliente
àà 
=
àà 
await
àà 
_context
àà  (
.
àà( )
Clientes
àà) 1
.
àà1 2
	FindAsync
àà2 ;
(
àà; <
id
àà< >
)
àà> ?
;
àà? @
if
ââ 
(
ââ 
cliente
ââ 
==
ââ 
null
ââ 
)
ââ  
return
ââ! '
NotFound
ââ( 0
(
ââ0 1
)
ââ1 2
;
ââ2 3
var
ãã 
ventasAsociadas
ãã 
=
ãã  !
await
ãã" '
_context
ãã( 0
.
ãã0 1
Ventas
ãã1 7
.
ãã7 8
AnyAsync
ãã8 @
(
ãã@ A
v
ããA B
=>
ããC E
v
ããF G
.
ããG H
	ClienteId
ããH Q
==
ããR T
id
ããU W
)
ããW X
;
ããX Y
if
åå 
(
åå 
ventasAsociadas
åå 
)
åå  
{
çç 
return
éé 
Conflict
éé 
(
éé  
$str
éé  c
)
ééc d
;
ééd e
}
èè 
_context
ëë 
.
ëë 
Clientes
ëë 
.
ëë 
Remove
ëë $
(
ëë$ %
cliente
ëë% ,
)
ëë, -
;
ëë- .
await
íí 
_context
íí 
.
íí 
SaveChangesAsync
íí +
(
íí+ ,
)
íí, -
;
íí- .
return
ìì 
	NoContent
ìì 
(
ìì 
)
ìì 
;
ìì 
}
îî 	
private
ññ 
bool
ññ 
ClienteExists
ññ "
(
ññ" #
int
ññ# &
id
ññ' )
)
ññ) *
{
óó 	
return
òò 
_context
òò 
.
òò 
Clientes
òò $
.
òò$ %
Any
òò% (
(
òò( )
e
òò) *
=>
òò+ -
e
òò. /
.
òò/ 0
Id
òò0 2
==
òò3 5
id
òò6 8
)
òò8 9
;
òò9 :
}
ôô 	
}
öö 
}õõ ´g
ÜC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\Controllers\CategoriaController.cs
	namespace 	
GestionInventario
 
. 
Controllers '
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class  
CategoriasController %
:& '
ControllerBase( 6
{ 
private 
readonly 
AppDBContext %
_context& .
;. /
public  
CategoriasController #
(# $
AppDBContext$ 0
context1 8
)8 9
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
CategoriaDto3 ?
>? @
>@ A
>A B
GetCategoriasC P
(P Q
)Q R
{ 	
return 
await 
_context !
.! "

Categorias" ,
. 
Select 
( 
c 
=> 
new  
CategoriaDto! -
{ 
Id 
= 
c 
. 
Id 
, 
Nombre 
= 
c 
. 
Nombre %
,% &
Descripcion 
=  !
c" #
.# $
Descripcion$ /
} 
) 
. 
ToListAsync 
( 
) 
; 
}   	
["" 	
HttpGet""	 
("" 
$str"" 
)"" 
]"" 
public## 
async## 
Task## 
<## 
ActionResult## &
<##& '
CategoriaDto##' 3
>##3 4
>##4 5
GetCategoria##6 B
(##B C
int##C F
id##G I
)##I J
{$$ 	
var%% 
	categoria%% 
=%% 
await%% !
_context%%" *
.%%* +

Categorias%%+ 5
.&& 
Where&& 
(&& 
c&& 
=>&& 
c&& 
.&& 
Id&&  
==&&! #
id&&$ &
)&&& '
.'' 
Select'' 
('' 
c'' 
=>'' 
new''  
CategoriaDto''! -
{(( 
Id)) 
=)) 
c)) 
.)) 
Id)) 
,)) 
Nombre** 
=** 
c** 
.** 
Nombre** %
,**% &
Descripcion++ 
=++  !
c++" #
.++# $
Descripcion++$ /
},, 
),, 
.-- 
FirstOrDefaultAsync-- $
(--$ %
)--% &
;--& '
if// 
(// 
	categoria// 
==// 
null// !
)//! "
return//# )
NotFound//* 2
(//2 3
)//3 4
;//4 5
return11 
	categoria11 
;11 
}22 	
[44 	
HttpPost44	 
]44 
public55 
async55 
Task55 
<55 
ActionResult55 &
<55& '
CategoriaDto55' 3
>553 4
>554 5
PostCategoria556 C
(55C D
[55D E
FromBody55E M
]55M N
CategoriaDto55O [
categoriaDto55\ h
)55h i
{66 	
if77 
(77 
!77 

ModelState77 
.77 
IsValid77 #
)77# $
{88 
return99 

BadRequest99 !
(99! "

ModelState99" ,
)99, -
;99- .
}:: 
if<< 
(<< 
categoriaDto<< 
==<< 
null<<  $
||<<% '
string<<( .
.<<. /
IsNullOrEmpty<</ <
(<<< =
categoriaDto<<= I
.<<I J
Nombre<<J P
)<<P Q
||<<R T
string<<U [
.<<[ \
IsNullOrEmpty<<\ i
(<<i j
categoriaDto<<j v
.<<v w
Descripcion	<<w Ç
)
<<Ç É
)
<<É Ñ
{== 
return>> 

BadRequest>> !
(>>! "
$str>>" V
)>>V W
;>>W X
}?? 
varAA 
existingCategoriaAA !
=AA" #
awaitAA$ )
_contextAA* 2
.AA2 3

CategoriasAA3 =
.BB 
FirstOrDefaultAsyncBB $
(BB$ %
cBB% &
=>BB' )
cBB* +
.BB+ ,
NombreBB, 2
==BB3 5
categoriaDtoBB6 B
.BBB C
NombreBBC I
&&BBJ L
cBBM N
.BBN O
DescripcionBBO Z
==BB[ ]
categoriaDtoBB^ j
.BBj k
DescripcionBBk v
)BBv w
;BBw x
ifDD 
(DD 
existingCategoriaDD !
!=DD" $
nullDD% )
)DD) *
{EE 
returnFF 
ConflictFF 
(FF  
$strFF  W
)FFW X
;FFX Y
}GG 
varII 
	categoriaII 
=II 
newII 
	CategoriaII  )
{JJ 
NombreKK 
=KK 
categoriaDtoKK %
.KK% &
NombreKK& ,
,KK, -
DescripcionLL 
=LL 
categoriaDtoLL *
.LL* +
DescripcionLL+ 6
}MM 
;MM 
_contextOO 
.OO 

CategoriasOO 
.OO  
AddOO  #
(OO# $
	categoriaOO$ -
)OO- .
;OO. /
awaitPP 
_contextPP 
.PP 
SaveChangesAsyncPP +
(PP+ ,
)PP, -
;PP- .
categoriaDtoRR 
.RR 
IdRR 
=RR 
	categoriaRR '
.RR' (
IdRR( *
;RR* +
returnTT 
CreatedAtActionTT "
(TT" #
nameofTT# )
(TT) *
GetCategoriaTT* 6
)TT6 7
,TT7 8
newTT9 <
{TT= >
idTT? A
=TTB C
categoriaDtoTTD P
.TTP Q
IdTTQ S
}TTT U
,TTU V
categoriaDtoTTW c
)TTc d
;TTd e
}UU 	
[WW 	
HttpPutWW	 
(WW 
$strWW 
)WW 
]WW 
publicXX 
asyncXX 
TaskXX 
<XX 
IActionResultXX '
>XX' (
PutCategoriaXX) 5
(XX5 6
intXX6 9
idXX: <
,XX< =
[XX> ?
FromBodyXX? G
]XXG H
CategoriaDtoXXI U
categoriaDtoXXV b
)XXb c
{YY 	
ifZZ 
(ZZ 
idZZ 
!=ZZ 
categoriaDtoZZ "
.ZZ" #
IdZZ# %
)ZZ% &
{[[ 
return\\ 

BadRequest\\ !
(\\! "
$str\\" e
)\\e f
;\\f g
}]] 
if__ 
(__ 
!__ 

ModelState__ 
.__ 
IsValid__ #
)__# $
{`` 
returnaa 

BadRequestaa !
(aa! "

ModelStateaa" ,
)aa, -
;aa- .
}bb 
ifdd 
(dd 
categoriaDtodd 
==dd 
nulldd  $
||dd% '
stringdd( .
.dd. /
IsNullOrEmptydd/ <
(dd< =
categoriaDtodd= I
.ddI J
NombreddJ P
)ddP Q
||ddR T
stringddU [
.dd[ \
IsNullOrEmptydd\ i
(ddi j
categoriaDtoddj v
.ddv w
Descripcion	ddw Ç
)
ddÇ É
)
ddÉ Ñ
{ee 
returnff 

BadRequestff !
(ff! "
$strff" V
)ffV W
;ffW X
}gg 
varii 
existingCategoriaii !
=ii" #
awaitii$ )
_contextii* 2
.ii2 3

Categoriasii3 =
.jj 
FirstOrDefaultAsyncjj $
(jj$ %
cjj% &
=>jj' )
cjj* +
.jj+ ,
Idjj, .
!=jj/ 1
idjj2 4
&&jj5 7
cjj8 9
.jj9 :
Nombrejj: @
==jjA C
categoriaDtojjD P
.jjP Q
NombrejjQ W
&&jjX Z
cjj[ \
.jj\ ]
Descripcionjj] h
==jji k
categoriaDtojjl x
.jjx y
Descripcion	jjy Ñ
)
jjÑ Ö
;
jjÖ Ü
ifll 
(ll 
existingCategoriall !
!=ll" $
nullll% )
)ll) *
{mm 
returnnn 
Conflictnn 
(nn  
$strnn  W
)nnW X
;nnX Y
}oo 
varqq 
	categoriaqq 
=qq 
awaitqq !
_contextqq" *
.qq* +

Categoriasqq+ 5
.qq5 6
	FindAsyncqq6 ?
(qq? @
idqq@ B
)qqB C
;qqC D
ifrr 
(rr 
	categoriarr 
==rr 
nullrr !
)rr! "
{ss 
returntt 
NotFoundtt 
(tt  
)tt  !
;tt! "
}uu 
	categoriaww 
.ww 
Nombreww 
=ww 
categoriaDtoww +
.ww+ ,
Nombreww, 2
;ww2 3
	categoriaxx 
.xx 
Descripcionxx !
=xx" #
categoriaDtoxx$ 0
.xx0 1
Descripcionxx1 <
;xx< =
_contextzz 
.zz 
Entryzz 
(zz 
	categoriazz $
)zz$ %
.zz% &
Statezz& +
=zz, -
EntityStatezz. 9
.zz9 :
Modifiedzz: B
;zzB C
try|| 
{}} 
await~~ 
_context~~ 
.~~ 
SaveChangesAsync~~ /
(~~/ 0
)~~0 1
;~~1 2
} 
catch
ÄÄ 
(
ÄÄ *
DbUpdateConcurrencyException
ÄÄ /
)
ÄÄ/ 0
{
ÅÅ 
if
ÇÇ 
(
ÇÇ 
!
ÇÇ 
CategoriaExists
ÇÇ $
(
ÇÇ$ %
id
ÇÇ% '
)
ÇÇ' (
)
ÇÇ( )
{
ÉÉ 
return
ÑÑ 
NotFound
ÑÑ #
(
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
}
ÖÖ 
else
ÜÜ 
{
áá 
throw
àà 
;
àà 
}
ââ 
}
ää 
return
åå 
	NoContent
åå 
(
åå 
)
åå 
;
åå 
}
çç 	
[
èè 	

HttpDelete
èè	 
(
èè 
$str
èè 
)
èè 
]
èè 
public
êê 
async
êê 
Task
êê 
<
êê 
IActionResult
êê '
>
êê' (
DeleteCategoria
êê) 8
(
êê8 9
int
êê9 <
id
êê= ?
)
êê? @
{
ëë 	
var
íí 
	categoria
íí 
=
íí 
await
íí !
_context
íí" *
.
íí* +

Categorias
íí+ 5
.
íí5 6
	FindAsync
íí6 ?
(
íí? @
id
íí@ B
)
ííB C
;
ííC D
if
ìì 
(
ìì 
	categoria
ìì 
==
ìì 
null
ìì !
)
ìì! "
return
ìì# )
NotFound
ìì* 2
(
ìì2 3
)
ìì3 4
;
ìì4 5
var
ïï  
productosAsociados
ïï "
=
ïï# $
await
ïï% *
_context
ïï+ 3
.
ïï3 4
	Productos
ïï4 =
.
ïï= >
AnyAsync
ïï> F
(
ïïF G
p
ïïG H
=>
ïïI K
p
ïïL M
.
ïïM N
CategoriaId
ïïN Y
==
ïïZ \
id
ïï] _
)
ïï_ `
;
ïï` a
if
ññ 
(
ññ  
productosAsociados
ññ "
)
ññ" #
{
óó 
return
òò 
Conflict
òò 
(
òò  
$str
òò  e
)
òòe f
;
òòf g
}
ôô 
_context
õõ 
.
õõ 

Categorias
õõ 
.
õõ  
Remove
õõ  &
(
õõ& '
	categoria
õõ' 0
)
õõ0 1
;
õõ1 2
await
úú 
_context
úú 
.
úú 
SaveChangesAsync
úú +
(
úú+ ,
)
úú, -
;
úú- .
return
ùù 
	NoContent
ùù 
(
ùù 
)
ùù 
;
ùù 
}
ûû 	
private
†† 
bool
†† 
CategoriaExists
†† $
(
††$ %
int
††% (
id
††) +
)
††+ ,
{
°° 	
return
¢¢ 
_context
¢¢ 
.
¢¢ 

Categorias
¢¢ &
.
¢¢& '
Any
¢¢' *
(
¢¢* +
e
¢¢+ ,
=>
¢¢- /
e
¢¢0 1
.
¢¢1 2
Id
¢¢2 4
==
¢¢5 7
id
¢¢8 :
)
¢¢: ;
;
¢¢; <
}
££ 	
}
§§ 
}•• ∆r
sC:\Users\Ariel\Documentos\Repositorios\Pruebas_Software_p2p_buena\PruebaComjuntaP2\PruebaComjuntaP2\AppDBContext.cs
	namespace 	
GestionInventario
 
{ 
public		 

class		 
AppDBContext		 
:		 
	DbContext		  )
{

 
public 
AppDBContext 
( 
DbContextOptions ,
<, -
AppDBContext- 9
>9 :
options; B
)B C
:D E
baseF J
(J K
optionsK R
)R S
{ 	
} 	
public 
DbSet 
< 
Producto 
> 
	Productos (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
	Categoria 
> 

Categorias  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
DbSet 
< 
Venta 
> 
Ventas "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
Cliente 
> 
Clientes &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
Producto  (
>( )
() *
)* +
. 
HasKey 
( 
p 
=> 
p 
. 
Id !
)! "
;" #
modelBuilder 
. 
Entity 
<  
Producto  (
>( )
() *
)* +
. 
Property 
( 
p 
=> 
p  
.  !
Nombre! '
)' (
. 

IsRequired 
( 
) 
. 
HasMaxLength 
( 
$num !
)! "
;" #
modelBuilder!! 
.!! 
Entity!! 
<!!  
Producto!!  (
>!!( )
(!!) *
)!!* +
."" 
Property"" 
("" 
p"" 
=>"" 
p""  
.""  !
Descripcion""! ,
)"", -
.## 
HasMaxLength## 
(## 
$num## !
)##! "
;##" #
modelBuilder%% 
.%% 
Entity%% 
<%%  
Producto%%  (
>%%( )
(%%) *
)%%* +
.&& 
Property&& 
(&& 
p&& 
=>&& 
p&&  
.&&  !
Precio&&! '
)&&' (
.'' 
HasColumnType'' 
('' 
$str'' .
)''. /
;''/ 0
modelBuilder)) 
.)) 
Entity)) 
<))  
Producto))  (
>))( )
())) *
)))* +
.** 
HasOne** 
(** 
p** 
=>** 
p** 
.** 
	Categoria** (
)**( )
.++ 
WithMany++ 
(++ 
c++ 
=>++ 
c++  
.++  !
	Productos++! *
)++* +
.,, 
HasForeignKey,, 
(,, 
p,,  
=>,,! #
p,,$ %
.,,% &
CategoriaId,,& 1
),,1 2
;,,2 3
modelBuilder// 
.// 
Entity// 
<//  
	Categoria//  )
>//) *
(//* +
)//+ ,
.00 
HasKey00 
(00 
c00 
=>00 
c00 
.00 
Id00 !
)00! "
;00" #
modelBuilder22 
.22 
Entity22 
<22  
	Categoria22  )
>22) *
(22* +
)22+ ,
.33 
Property33 
(33 
c33 
=>33 
c33  
.33  !
Nombre33! '
)33' (
.44 

IsRequired44 
(44 
)44 
.55 
HasMaxLength55 
(55 
$num55 !
)55! "
;55" #
modelBuilder77 
.77 
Entity77 
<77  
	Categoria77  )
>77) *
(77* +
)77+ ,
.88 
Property88 
(88 
c88 
=>88 
c88  
.88  !
Descripcion88! ,
)88, -
.99 
HasMaxLength99 
(99 
$num99 !
)99! "
;99" #
modelBuilder<< 
.<< 
Entity<< 
<<<  
Venta<<  %
><<% &
(<<& '
)<<' (
.== 
HasKey== 
(== 
v== 
=>== 
v== 
.== 
Id== !
)==! "
;==" #
modelBuilder?? 
.?? 
Entity?? 
<??  
Venta??  %
>??% &
(??& '
)??' (
.@@ 
Property@@ 
(@@ 
v@@ 
=>@@ 
v@@  
.@@  !

FechaVenta@@! +
)@@+ ,
.AA 

IsRequiredAA 
(AA 
)AA 
;AA 
modelBuilderCC 
.CC 
EntityCC 
<CC  
VentaCC  %
>CC% &
(CC& '
)CC' (
.DD 
PropertyDD 
(DD 
vDD 
=>DD 
vDD  
.DD  !
TotalDD! &
)DD& '
.EE 
HasColumnTypeEE 
(EE 
$strEE .
)EE. /
;EE/ 0
modelBuilderGG 
.GG 
EntityGG 
<GG  
VentaGG  %
>GG% &
(GG& '
)GG' (
.HH 
HasOneHH 
(HH 
vHH 
=>HH 
vHH 
.HH 
ProductoHH '
)HH' (
.II 
WithManyII 
(II 
)II 
.JJ 
HasForeignKeyJJ 
(JJ 
vJJ  
=>JJ! #
vJJ$ %
.JJ% &

ProductoIdJJ& 0
)JJ0 1
;JJ1 2
modelBuilderLL 
.LL 
EntityLL 
<LL  
VentaLL  %
>LL% &
(LL& '
)LL' (
.MM 
HasOneMM 
(MM 
vMM 
=>MM 
vMM 
.MM 
ClienteMM &
)MM& '
.NN 
WithManyNN 
(NN 
)NN 
.OO 
HasForeignKeyOO 
(OO 
vOO  
=>OO! #
vOO$ %
.OO% &
	ClienteIdOO& /
)OO/ 0
;OO0 1
modelBuilderRR 
.RR 
EntityRR 
<RR  
ClienteRR  '
>RR' (
(RR( )
)RR) *
.SS 
HasKeySS 
(SS 
cSS 
=>SS 
cSS 
.SS 
IdSS !
)SS! "
;SS" #
modelBuilderUU 
.UU 
EntityUU 
<UU  
ClienteUU  '
>UU' (
(UU( )
)UU) *
.VV 
PropertyVV 
(VV 
cVV 
=>VV 
cVV  
.VV  !
NombreVV! '
)VV' (
.WW 

IsRequiredWW 
(WW 
)WW 
.XX 
HasMaxLengthXX 
(XX 
$numXX !
)XX! "
;XX" #
modelBuilderZZ 
.ZZ 
EntityZZ 
<ZZ  
ClienteZZ  '
>ZZ' (
(ZZ( )
)ZZ) *
.[[ 
Property[[ 
([[ 
c[[ 
=>[[ 
c[[  
.[[  !
Apellido[[! )
)[[) *
.\\ 

IsRequired\\ 
(\\ 
)\\ 
.]] 
HasMaxLength]] 
(]] 
$num]] !
)]]! "
;]]" #
modelBuilder__ 
.__ 
Entity__ 
<__  
Cliente__  '
>__' (
(__( )
)__) *
.`` 
Property`` 
(`` 
c`` 
=>`` 
c``  
.``  !
Email``! &
)``& '
.aa 

IsRequiredaa 
(aa 
)aa 
;aa 
modelBuildercc 
.cc 
Entitycc 
<cc  
Clientecc  '
>cc' (
(cc( )
)cc) *
.dd 
Propertydd 
(dd 
cdd 
=>dd 
cdd  
.dd  !
Telefonodd! )
)dd) *
.ee 
HasMaxLengthee 
(ee 
$numee  
)ee  !
;ee! "
}ff 	
}gg 
publicii 

classii 
Productoii 
{jj 
[kk 	
Keykk	 
]kk 
publicll 
intll 
Idll 
{ll 
getll 
;ll 
setll  
;ll  !
}ll" #
[mm 	
Requiredmm	 
]mm 
publicnn 
stringnn 
Nombrenn 
{nn 
getnn "
;nn" #
setnn$ '
;nn' (
}nn) *
publicoo 
stringoo 
Descripcionoo !
{oo" #
getoo$ '
;oo' (
setoo) ,
;oo, -
}oo. /
[pp 	
Requiredpp	 
]pp 
publicqq 
decimalqq 
Precioqq 
{qq 
getqq  #
;qq# $
setqq% (
;qq( )
}qq* +
publicrr 
intrr 
CantidadStockrr  
{rr! "
getrr# &
;rr& '
setrr( +
;rr+ ,
}rr- .
publicss 
intss 
CategoriaIdss 
{ss  
getss! $
;ss$ %
setss& )
;ss) *
}ss+ ,
publictt 
	Categoriatt 
	Categoriatt "
{tt# $
gettt% (
;tt( )
settt* -
;tt- .
}tt/ 0
}uu 
publicww 

classww 
	Categoriaww 
{xx 
[yy 	
Keyyy	 
]yy 
publiczz 
intzz 
Idzz 
{zz 
getzz 
;zz 
setzz  
;zz  !
}zz" #
[{{ 	
Required{{	 
]{{ 
public|| 
string|| 
Nombre|| 
{|| 
get|| "
;||" #
set||$ '
;||' (
}||) *
public}} 
string}} 
Descripcion}} !
{}}" #
get}}$ '
;}}' (
set}}) ,
;}}, -
}}}. /
public~~ 
ICollection~~ 
<~~ 
Producto~~ #
>~~# $
	Productos~~% .
{~~/ 0
get~~1 4
;~~4 5
set~~6 9
;~~9 :
}~~; <
=~~= >
new~~? B
List~~C G
<~~G H
Producto~~H P
>~~P Q
(~~Q R
)~~R S
;~~S T
} 
public
ÅÅ 

class
ÅÅ 
Venta
ÅÅ 
{
ÇÇ 
[
ÉÉ 	
Key
ÉÉ	 
]
ÉÉ 
public
ÑÑ 
int
ÑÑ 
Id
ÑÑ 
{
ÑÑ 
get
ÑÑ 
;
ÑÑ 
set
ÑÑ  
;
ÑÑ  !
}
ÑÑ" #
[
ÖÖ 	
Required
ÖÖ	 
]
ÖÖ 
public
ÜÜ 
int
ÜÜ 

ProductoId
ÜÜ 
{
ÜÜ 
get
ÜÜ  #
;
ÜÜ# $
set
ÜÜ% (
;
ÜÜ( )
}
ÜÜ* +
public
áá 
Producto
áá 
Producto
áá  
{
áá! "
get
áá# &
;
áá& '
set
áá( +
;
áá+ ,
}
áá- .
[
àà 	
Required
àà	 
]
àà 
public
ââ 
int
ââ 
Cantidad
ââ 
{
ââ 
get
ââ !
;
ââ! "
set
ââ# &
;
ââ& '
}
ââ( )
[
ää 	
Required
ää	 
]
ää 
public
ãã 
DateTime
ãã 

FechaVenta
ãã "
{
ãã# $
get
ãã% (
;
ãã( )
set
ãã* -
;
ãã- .
}
ãã/ 0
[
åå 	
Required
åå	 
]
åå 
public
çç 
decimal
çç 
Total
çç 
{
çç 
get
çç "
;
çç" #
set
çç$ '
;
çç' (
}
çç) *
[
éé 	
Required
éé	 
]
éé 
public
èè 
int
èè 
	ClienteId
èè 
{
èè 
get
èè "
;
èè" #
set
èè$ '
;
èè' (
}
èè) *
public
êê 
Cliente
êê 
Cliente
êê 
{
êê  
get
êê! $
;
êê$ %
set
êê& )
;
êê) *
}
êê+ ,
}
ëë 
public
ìì 

class
ìì 
Cliente
ìì 
{
îî 
[
ïï 	
Key
ïï	 
]
ïï 
public
ññ 
int
ññ 
Id
ññ 
{
ññ 
get
ññ 
;
ññ 
set
ññ  
;
ññ  !
}
ññ" #
[
óó 	
Required
óó	 
]
óó 
public
òò 
string
òò 
?
òò 
Nombre
òò 
{
òò 
get
òò  #
;
òò# $
set
òò% (
;
òò( )
}
òò* +
[
ôô 	
Required
ôô	 
]
ôô 
public
öö 
string
öö 
?
öö 
Apellido
öö 
{
öö  !
get
öö" %
;
öö% &
set
öö' *
;
öö* +
}
öö, -
[
õõ 	
Required
õõ	 
]
õõ 
public
úú 
string
úú 
?
úú 
Email
úú 
{
úú 
get
úú "
;
úú" #
set
úú$ '
;
úú' (
}
úú) *
public
ùù 
string
ùù 
?
ùù 
Telefono
ùù 
{
ùù  !
get
ùù" %
;
ùù% &
set
ùù' *
;
ùù* +
}
ùù, -
}
ûû 
}üü 